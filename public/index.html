<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gra w Kości</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="login-container" style="display: block">
      <h2>Rejestracja</h2>
      <input type="text" id="register-username" placeholder="Nazwa użytkownika" />
      <input type="password" id="register-password" placeholder="Hasło" />
      <button onclick="register()">Zarejestruj</button>
      <p id="register-message"></p>

      <h2>Logowanie</h2>
      <input type="text" id="login-username" placeholder="Nazwa użytkownika" />
      <input type="password" id="login-password" placeholder="Hasło" />
      <button onclick="login()">Zaloguj</button>
      <p id="login-message"></p>
    </div>
    <div id="main-container" style="display: none">
      <div id="search">
        <h2>Wyszukiwarka</h2>
        <input type="text" id="user-search" placeholder="Nazwa użytkownika" />
        <button onClick="search()" id="search-button">Zatwierdź</button>
        <div id="search-results"></div>
      </div>
      <div id="profile">
        <h2>Profil</h2>
        <button onclick="logout()">Wyloguj</button>
        <button onclick="remove()">Usuń konto</button>
        <div id="change-nickname">
          <input type="text" id="nickname-input" placeholder="Nowa nazwa" />
          <button onclick="changeUsername()">Zmień</button>
          <p id="profile-message"></p>
        </div>
      </div>
      <div id="chat-container" style="display: none">
        <h2>💬 Globalny Chat</h2>
        <div id="messages"></div>
        <input type="text" id="message-input" placeholder="Wpisz wiadomość" />
        <button onclick="sendMessage()">Wyślij</button>
        <button onclick="leaveChat()">Opuść</button>
      </div>
      <button onclick="joinChat()" id="join-chat">Dołącz do Chatu</button>
      <div id="game-lobby">
        <h2>🎲 Gra w Kości</h2>
        <input type="text" id="room-input" placeholder="Wpisz numer pokoju" />
        <button onclick="joinGame()">Dołącz do gry</button>
      </div>

      <!-- Pokój gry -->
      <div id="game-room" style="display: none">
        <h2>🕹️ Pokój: <span id="room-name"></span></h2>
        <p id="game-status">Oczekiwanie na drugiego gracza...</p>

        <!-- Kontrola gry -->
        <button id="start-game" onclick="startGame()" disabled>Rozpocznij grę</button>
        <button onclick="leaveGame()">Opuść pokój</button>

        <!-- Obszar rzutu kośćmi -->
        <div id="dice-area" style="display: none">
          <h3>🎲 Rzuć kośćmi</h3>
          <div id="dice"></div>
          <button id="reroll-btn" onclick="rerollDice()" disabled>Przerzuć wybrane</button>
          <button id="end-turn-btn" onclick="endTurn()" disabled>Zakończ turę</button>
        </div>

        <!-- Wynik gry -->
        <h3 id="game-result"></h3>
      </div>
    </div>
    <script src="skrypt.js"></script>
  </body>
</html>
